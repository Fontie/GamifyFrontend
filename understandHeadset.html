<!DOCTYPE html>

<script src="env.js"></script>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR IS COOL</title>
</head>
<body>
    <h1>Read this article</h1>

    <section>
        <h2>The Wonders of VR: A Placeholder Article</h2>
        <p>Virtual Reality (VR) is the future. Or maybe it's the present. Honestly, we’re not entirely sure. But what we do know is that it’s here to stay... at least until we all get too dizzy to keep our headsets on.</p>
        <p>Picture this: You put on your VR headset, and suddenly, you're standing on the edge of a cliff, looking down at a vast, pixelated landscape. It's breathtaking. Then, you take one step too far and... well, you don't fall off the cliff. You just make a very awkward movement, stumble, and knock over your coffee mug. But hey, that’s progress, right?</p>
        <p>As we dive deeper into the world of VR, we imagine a future where meetings happen in virtual spaces. No more awkward Zoom calls with your camera turned off! Instead, you’ll have the joy of attending your 3 PM meeting in a virtual conference room made entirely of LEGO bricks. Who wouldn’t want to experience that?</p>
        <p>In conclusion, VR is a fantastic tool for simulating experiences that you’d never want to experience in real life. Virtual skydiving? Sure. Virtual dentist visit? Pass. But one thing’s for sure: it’s all placeholder technology for now, and we can’t wait to see what the future holds—hopefully, without knocking over any more mugs.</p>
    </section>

    <!-- Button to send request to backend -->
    <div>
        <button id="sendRequestButton">I read this article!</button>
    </div>

    <script>
        localStorage.setItem("userName", "LeeroyJankins");
        const userName = localStorage.getItem("userName");

        // Event listener for the button
        document.getElementById('sendRequestButton').onclick = async function() {
            try {
                // Example: Game ID is hardcoded here, but it can be dynamic

                // Send GET request to backend
                const response = await fetch(window.env.API_URL+`/api/overworld/increaseAccess/${userName}`, {
                    method: 'POST',   // Ensure the POST method is being used
                    headers: {
                        'Content-Type': 'application/json',  // Set the content type for JSON if required
                    },
                });
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                else
                {
                    // Parse JSON response
                    const data = await response.json();

                    // Handle the backend response if necessary
                    console.log('Backend Response:', data);

                    // Go back to the previous page after the request is successful
                    //window.history.back();
                    window.close();
                }

                
            } catch (error) {
                // Handle any errors (e.g., network issues, backend errors)
                console.error('Error:', error);
                // Go back to the previous page even if there's an error (optional)
  //              window.history.back();
            }
        };
    </script>
</body>
</html>
